(function(t){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],u=0,g=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&g.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(g.length)g.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},s=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1:function(t,e){},2:function(t,e){},"2c52":function(t,e,a){},3243:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var i,n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("NavbarHeader"),a("router-view"),a("FooterHeader")],1)},r=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar navbar-dark navbar-inverse navbar-expand-lg navbar-toggleable-xs bg-secondary text-white"},[a("div",{staticClass:"container"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("My Website")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"mainNav"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{href:""}},[a("router-link",{attrs:{to:"/"}},[t._v("Home")])],1)]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:""}},[a("router-link",{attrs:{to:"/addblog"}},[t._v("Add Blogs")])],1)]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:""}},[a("router-link",{attrs:{to:"/manageblogs"}},[t._v("Manage Blogs")])],1)])])])],1)])])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#mainNav","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggle-icon"})])}],c={},d=c,u=(a("8464"),a("2877")),g=Object(u["a"])(d,o,l,!1,null,"7e0faed9",null),f=g.exports,p=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar fixed-bottom navbar-expand-sm navbar-dark bg-dark"},[a("div",{staticClass:"container"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[a("span",{staticClass:"text-center"},[t._v(" Copyright @2019 ")])])])])])}],b={},v=b,_=Object(u["a"])(v,p,m,!1,null,"c09c995a",null),h=_.exports,C={name:"app",components:{NavbarHeader:f,FooterHeader:h}},w=C,y=Object(u["a"])(w,s,r,!1,null,null,null),k=y.exports,x=(a("4989"),a("ab8b"),a("28dd")),E=a("8c4f"),j=a("af98"),O=a.n(j),I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"jumbotron pt-5"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-9 col-lg-9"},[a("div",{staticClass:"card mb-3"},[a("img",{staticClass:"card-img-top img-fluid",staticStyle:{"max-height":"30em"},attrs:{src:t.imageLink}}),a("div",{staticClass:"card-body"},[a("h4",{staticClass:"card-title text-uppercase font-weight-bold"},[t._v(t._s(t.title))]),a("p",{staticClass:"card-text"},[a("small",{staticClass:"text-muted"},[t._v("Updated at: "+t._s(t.created_at))])]),a("div",{staticClass:"card-text",domProps:{innerHTML:t._s(t.previewText)}})]),a("div",{staticClass:"card-footer"},[a("a",{staticClass:"btn btn-primary text-white",on:{click:t.backToHomepage}},[t._v("Back")])])])])])])])])},B=[],L=(a("ac6a"),a("8aa5")),$=(a("e71f"),a("588e"),{apiKey:"AIzaSyCio_GWEJFKG18VaQrk-RngY5ReEywFXtM",authDomain:"simpleblog-fae18.firebaseapp.com",databaseURL:"https://simpleblog-fae18.firebaseio.com",projectId:"simpleblog-fae18",storageBucket:"simpleblog-fae18.appspot.com",messagingSenderId:"594037005475",appId:"1:594037005475:web:b8cb8540c33d4dbb7e7316"}),R=L["initializeApp"]($),D=R,F=a("0e54"),P={data:function(){return{blog_id:"",title:"",content:"",created_at:"",image_full:"",imageLink:""}},beforeRouteEnter:function(t,e,a){D.firestore().collection("blog_content").where("blog_id","==",t.params.blog_id).get().then((function(t){t.forEach((function(t){a((function(e){e.blog_id=t.data().blog_id,e.title=t.data().title,e.content=t.data().content,e.created_at=t.data().created_at,e.image_full=t.data().image_full,D.storage().ref().child("blog_feature_image/"+t.data().image_full).getDownloadURL().then((function(t){e.imageLink=t,console.log(t)}))}))}))}))},watch:{$route:"fetchSpecificData"},computed:{previewText:function(){return F.setOptions({renderer:new F.Renderer,gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!0,smartLists:!0,smartypants:!1}),F(this.content)}},methods:{fetchSpecificData:function(){var t=this;D.firestore().collection("blog_content").where("blog_id","==",this.$route.params.blog_id).get().then((function(e){e.forEach((function(e){t.blog_id=e.data().blog_id,t.title=e.data().title,t.content=e.data().content,t.created_at=e.data().created_at,t.image_full=e.data().image_full,D.storage().ref().child("blog_feature_image/"+t.image_full).getDownloadURL().then((function(t){this.imageLink=t,console.log(this.imageLink)}))}))}))},backToHomepage:function(){return this.$router.push("/")}}},N=P,M=(a("571e"),Object(u["a"])(N,I,B,!1,null,"d68c90ce",null)),S=M.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("WelcomeMsg"),a("hr"),a("RecentBlog")],1)},T=[],A=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"jumbotron-fluid p-4 bg-secondary text-white"},[a("div",{staticClass:"container text-center"},[a("h3",{staticClass:"display-4"},[t._v("Welcome to My Blog")]),a("p",{staticClass:"lead"},[t._v("It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout")])])])])}],z={},J=z,W=Object(u["a"])(J,A,H,!1,null,"0c1d6324",null),V=W.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container pt-5"},[a("h3",{staticClass:"lean"},[t._v("Recent Blog Posts")]),a("br"),t._l(t.blogs,(function(e){return a("div",{key:e.id,staticClass:"card mb-4"},[a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col-md-3"},[a("img",{staticClass:"card-img img-fluid",attrs:{src:e.imageLink.i}})]),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(" "+t._s(t._f("capitalize")(e.title))+" ")]),a("p",[a("span",{staticClass:"badge badge-pill badge-secondary"},[t._v(t._s(e.tags))])]),a("p",{staticClass:"card-text"},[t._v(" "+t._s(t._f("cut-paragraph")(e.content))+" ")]),a("p",{staticClass:"card-text"},[a("small",{staticClass:"text-muted"},[t._v("Created: "+t._s(e.created_at))])]),a("router-link",{attrs:{to:{name:"viewblog",params:{blog_id:e.blog_id}}}},[t._v("Read More...")])],1)])])])})),a("hr")],2)},K=[],Q={data:function(){return{blogs:[],imageUrl:""}},created:function(){var t=this;D.firestore().collection("blog_content").get().then((function(e){e.forEach((function(e){var a={id:e.id,blog_id:e.data().blog_id,content:e.data().content,created_at:e.data().created_at,imageLink:D.storage().ref().child("blog_feature_image/"+e.data().image_full).getDownloadURL(),tags:e.data().tags,title:e.data().title,updated_at:e.data().updated_at};t.blogs.push(a)}))}))},filters:{"cut-paragraph":function(t){return t.substring(0,200)+"..."},capitalize:function(t){return t.toUpperCase()}}},X=Q,Y=(a("5743"),Object(u["a"])(X,G,K,!1,null,"55705e53",null)),q=Y.exports,Z={components:{WelcomeMsg:V,RecentBlog:q}},tt=Z,et=Object(u["a"])(tt,U,T,!1,null,"445366b2",null),at=et.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),a("form",{on:{submit:function(e){return e.preventDefault(),t.addBlogPost(e)}}},[a("div",{staticClass:"row pb-3"},[a("label",{attrs:{for:""}},[t._v("Blog Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),a("div",{staticClass:"row pb-3"},[a("label",{attrs:{for:""}},[t._v("Content")]),a("br"),a("div",{staticClass:"container"},[a("vue-simplemde",{ref:"markdownEditor",attrs:{"preview-class":"markdown-body"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)]),a("div",{staticClass:"row pb-3"},[a("label",{attrs:{for:""}},[t._v("Featured Image")]),a("input",{staticClass:"form-control",attrs:{type:"file",multiple:"",accept:"image/jpg,image/jpeg,/image/png"},on:{change:t.uploadFeaturedImage}}),t.featuredImage.length>0?a("div",{staticClass:"image-preview"},[a("label",{attrs:{for:""}},[t._v("Preview Image")]),a("img",{staticClass:"preview",attrs:{src:t.featuredImage}})]):t._e()]),a("div",{staticClass:"row pb-3 pt-3"},[a("button",{staticClass:"btn btn-primary mr-3",attrs:{type:"submit"}},[t._v("Add Blog")]),a("button",{staticClass:"btn btn-secondary",on:{change:t.uploadFeaturedImage}},[t._v("Back")])])])])},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row pb-3 pt-3"},[a("h3",[t._v("Add Blog Post")])])}],st=(a("7f7f"),a("a481"),a("623c")),rt={data:function(){return{title:"",content:"",created_at:"",tags:[],featuredImage:"",filename:"",uploadFile:"",fullDate:(new Date).toJSON().slice(0,10).replace(/-/g,"-")}},methods:{uploadFeaturedImage:function(t){var e=this,a=t.target;if(this.fileName=t.target.files[0].name,console.log(this.fileName),a.files&&a.files[0]){var i=new FileReader;i.onload=function(a){e.featuredImage=a.target.result,e.uploadFile=t.target.files[0]},i.readAsDataURL(a.files[0])}},addBlogPost:function(){var t=this,e=D.storage().ref("blog_feature_image/"+this.fileName);e.put(this.uploadFile).then((function(t){console.log("Uploaded a blob or file!")})),D.firestore().collection("blog_content").add({blog_id:Math.floor(1e5*Math.random()),title:this.title,content:this.content,created_at:this.fullDate,image_full:this.fileName,updated_at:""}).then((function(e){return t.$router.push("/")})).catch((function(t){return console.log(t)}))}},components:{VueSimplemde:st["a"]}},ot=rt,lt=(a("6bce"),Object(u["a"])(ot,it,nt,!1,null,"185dd22d",null)),ct=lt.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ManageBlogs")],1)},ut=[],gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container pt-5"},[a("h3",{staticClass:"lean"},[t._v("Recent Blog Posts")]),a("br"),t._l(t.blogs,(function(e){return a("div",{key:e.id,staticClass:"card mb-4"},[a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col-md-3"},[a("img",{staticClass:"card-img img-fluid",attrs:{src:e.imageLink.i}})]),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(" "+t._s(t._f("capitalize")(e.title))+" ")]),a("p",[a("span",{staticClass:"badge badge-pill badge-secondary"},[t._v(t._s(e.tags))])]),a("p",{staticClass:"card-text"},[t._v(" "+t._s(t._f("cut-paragraph")(e.content))+" ")]),a("p",{staticClass:"card-text"},[a("small",{staticClass:"text-muted"},[t._v("Created: "+t._s(e.created_at))])]),a("router-link",{staticClass:"badge badge-primary mr-3",attrs:{to:{name:"viewblog",params:{blog_id:e.blog_id}}}},[t._v("Read More...")]),a("router-link",{staticClass:"badge badge-secondary mr-3",attrs:{to:{name:"editblog",params:{blog_id:e.blog_id}}}},[t._v("Edit Blog")]),a("span",{staticClass:"badge badge-danger mr-3"},[t._v("Delete Blog")])],1)])])])})),a("hr")],2)},ft=[],pt={data:function(){return{blogs:[],imageUrl:""}},created:function(){var t=this;D.firestore().collection("blog_content").get().then((function(e){e.forEach((function(e){var a={id:e.id,blog_id:e.data().blog_id,content:e.data().content,created_at:e.data().created_at,imageLink:D.storage().ref().child("blog_feature_image/"+e.data().image_full).getDownloadURL(),tags:e.data().tags,title:e.data().title,updated_at:e.data().updated_at};t.blogs.push(a)}))}))},filters:{"cut-paragraph":function(t){return t.substring(0,200)+"..."},capitalize:function(t){return t.toUpperCase()}}},mt=pt,bt=(a("bb2f"),Object(u["a"])(mt,gt,ft,!1,null,"4a4035d1",null)),vt=bt.exports,_t={components:{ManageBlogs:vt}},ht=_t,Ct=Object(u["a"])(ht,dt,ut,!1,null,"1ad3a3d2",null),wt=Ct.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),a("form",{on:{submit:function(e){return e.preventDefault(),t.addBlogPost(e)}}},[a("div",{staticClass:"row pb-3"},[a("label",{attrs:{for:""}},[t._v("Blog Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),a("div",{staticClass:"row pb-3"},[a("label",{attrs:{for:""}},[t._v("Content")]),a("br"),a("div",{staticClass:"container"},[a("vue-simplemde",{ref:"markdownEditor",attrs:{"preview-class":"markdown-body"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)]),a("div",{staticClass:"row pb-3"},[a("label",{attrs:{for:""}},[t._v("Featured Image")]),a("input",{staticClass:"form-control",attrs:{type:"file",id:"uploadImg",multiple:"",accept:"image/jpg,image/jpeg,/image/png"},on:{change:t.uploadFeaturedImage}}),t.featuredImage.length>0?a("div",{staticClass:"image-preview"},[a("label",{attrs:{for:""}},[t._v("Preview Image")]),a("img",{staticClass:"preview",attrs:{src:t.featuredImage}})]):t._e()]),t._m(1)]),a("div",{staticClass:"pb-5"})])},kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row pb-3 pt-3"},[a("h3",[t._v("Edit Blog Post")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("button",{staticClass:"btn btn-primary mr-3",attrs:{type:"submit"}},[t._v("Add Blog")]),a("button",{staticClass:"btn btn-secondary"},[t._v("Back")])])}],xt=a("bd86"),Et=a("0e54"),jt={data:function(){return{blog_id:"",title:"",content:"",featuredImage:"",image_full:"",imageLink:"",updateDate:(new Date).toJSON().slice(0,10).replace(/-/g,"-")}},beforeRouteEnter:function(t,e,a){D.firestore().collection("blog_content").where("blog_id","==",t.params.blog_id).get().then((function(t){t.forEach((function(t){a((function(e){e.blog_id=t.data().blog_id,e.title=t.data().title,e.content=t.data().content,e.created_at=t.data().created_at,e.image_full=t.data().image_full,D.storage().ref().child("blog_feature_image/"+t.data().image_full).getDownloadURL().then((function(t){e.imageLink=t,console.log(t)}))}))}))}))},watch:{$route:"fetchSpecificData"},computed:{previewText:function(){return Et.setOptions({renderer:new Et.Renderer,gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!0,smartLists:!0,smartypants:!1}),Et(this.content)}},methods:(i={uploadFeaturedImage:function(t){var e=this,a=t.target;if(this.fileName=t.target.files[0].name,console.log(this.fileName),a.files&&a.files[0]){var i=new FileReader;i.onload=function(a){e.featuredImage=a.target.result,e.uploadFile=t.target.files[0]},i.readAsDataURL(a.files[0])}},fetchSpecificData:function(){var t=this;D.firestore().collection("blog_content").where("blog_id","==",this.$route.params.blog_id).get().then((function(e){e.forEach((function(e){t.blog_id=e.data().blog_id,t.title=e.data().title,t.content=e.data().content,t.created_at=e.data().created_at,t.image_full=e.data().image_full,D.storage().ref().child("blog_feature_image/"+t.image_full).getDownloadURL().then((function(t){this.imageLink=t,console.log(this.imageLink)}))}))}))}},Object(xt["a"])(i,"uploadFeaturedImage",(function(t){var e=this,a=t.target;if(this.fileName=t.target.files[0].name,console.log(this.fileName),a.files&&a.files[0]){var i=new FileReader;i.onload=function(a){e.featuredImage=a.target.result,e.uploadFile=t.target.files[0]},i.readAsDataURL(a.files[0])}})),Object(xt["a"])(i,"updateBlogPost",(function(){var t=this;if(0==document.getElementById("uploadImg").files.length);else{var e=D.storage().ref("blog_feature_image/"+this.fileName);e.put(this.uploadFile).then((function(t){console.log("Uploaded a blob or file!")})),D.firestore().ref.update({title:this.title,content:this.content,created_at:this.fullDate,image_full:this.fileName,updated_at:this.updated_at}).then((function(e){return t.$router.push("/")})).catch((function(t){return console.log(t)}))}})),Object(xt["a"])(i,"backToHomepage",(function(){return this.$router.push("/")})),i),components:{VueSimplemde:st["a"]}},Ot=jt,It=(a("8734"),Object(u["a"])(Ot,yt,kt,!1,null,"76971969",null)),Bt=It.exports;n["a"].use(x["a"]),n["a"].use(E["a"]),n["a"].use(O.a);var Lt=new E["a"]({mode:"history",routes:[{path:"/",component:at},{path:"/view-content/:blog_id",name:"viewblog",component:S},{path:"/addblog",component:ct},{path:"/manageblogs",component:wt},{path:"/editblog/:blog_id",name:"editblog",component:Bt}]});n["a"].config.productionTip=!1,new n["a"]({router:Lt,render:function(t){return t(k)}}).$mount("#app")},"56ec":function(t,e,a){},"571e":function(t,e,a){"use strict";var i=a("ae80"),n=a.n(i);n.a},5743:function(t,e,a){"use strict";var i=a("681d"),n=a.n(i);n.a},"681d":function(t,e,a){},"6bce":function(t,e,a){"use strict";var i=a("56ec"),n=a.n(i);n.a},8464:function(t,e,a){"use strict";var i=a("b7e4"),n=a.n(i);n.a},8734:function(t,e,a){"use strict";var i=a("2c52"),n=a.n(i);n.a},ae80:function(t,e,a){},b7e4:function(t,e,a){},bb2f:function(t,e,a){"use strict";var i=a("3243"),n=a.n(i);n.a}});
//# sourceMappingURL=app.00a4d6a4.js.map